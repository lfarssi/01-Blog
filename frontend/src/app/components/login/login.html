<div class="container d-flex justify-content-center align-items-center min-vh-100">
  <div class="card shadow-lg border-0 rounded-4" style="max-width: 420px; width: 100%;">
    <div class="card-body p-4 p-md-5">
      <!-- Logo / Title -->
      <div class="text-center mb-4">
        <h4 class="fw-bold text-primary">01Blog</h4>
        <p class="text-muted mb-0">Sign in to your account</p>
      </div>

      <!-- Login Form -->
      <form [formGroup]="form" (ngSubmit)="submit()" class="needs-validation">
        <!-- Username/Email Field -->
        <mat-form-field appearance="outline" class="w-100 mb-3">
          <mat-label>Username or Email</mat-label>
          <input
            matInput
            type="text"
            formControlName="username"
            placeholder="Enter your username or email"
          />
          @if (f['username'].touched && f['username'].errors?.['required']) {
            <mat-error>Username or email is required</mat-error>
          }
        </mat-form-field>

        <!-- Password Field -->
        <mat-form-field appearance="outline" class="w-100 mb-3">
          <mat-label>Password</mat-label>
          <input
            matInput
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            placeholder="Enter your password"
          />
          <button
            mat-icon-button
            matSuffix
            type="button"
            (click)="togglePassword()"
            aria-label="Toggle password visibility"
          >
            <mat-icon>{{ showPassword ? 'visibility' : 'visibility_off' }}</mat-icon>
          </button>
          @if (f['password'].touched && f['password'].errors?.['required']) {
            <mat-error>Password is required</mat-error>
          }
          @if (f['password'].touched && f['password'].errors?.['minlength']) {
            <mat-error>Password must be at least 8 characters</mat-error>
          }
        </mat-form-field>

        <!-- Error Message -->
        @if (errorMsg) {
          <mat-error class="d-block text-center mb-3">{{ errorMsg }}</mat-error>
        }

        <!-- Remember me & Forgot password -->
        <div class="d-flex justify-content-between align-items-center mb-3">
          <div class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              id="rememberMe"
            />
            <label class="form-check-label small" for="rememberMe">
              Remember me
            </label>
          </div>
          <a href="#" class="text-decoration-none text-primary small">Forgot password?</a>
        </div>

        <!-- Submit Button -->
        <button
          mat-raised-button
          color="primary"
          type="submit"
          class="w-100"
          [disabled]="loading || form.invalid"
        >
          {{ loading ? 'Logging in...' : 'Login' }}
        </button>

        <!-- Sign up link -->
        <div class="text-center mt-3">
          <small class="text-muted">Don't have an account? </small>
          <a href="/auth/register" class="text-decoration-none text-primary small">Sign up</a>
        </div>
      </form>
    </div>
  </div>
</div>
