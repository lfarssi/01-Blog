<div class="container d-flex justify-content-center align-items-center min-vh-100">
  <div class="card shadow-lg border-0 rounded-4" style="max-width: 420px; width: 100%;">
    <div class="card-body p-4 p-md-5">
      <div class="text-center mb-4">
        <h4 class="fw-bold text-primary">01Blog</h4>
        <p class="text-muted mb-0">Sign in to your account</p>
      </div>

      <form [formGroup]="form" (ngSubmit)="submit()" class="needs-validation">
        <mat-form-field appearance="outline" class="w-100 mb-3">
          <mat-label>Username or Email</mat-label>
          <input matInput type="text" formControlName="usernameOrEmail" placeholder="Enter your username or email" />
          @if (f['usernameOrEmail'].touched && f['usernameOrEmail'].errors?.['required']) {
          <mat-error>Username or email is required</mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-100 mb-3">
          <mat-label>Password</mat-label>
          <input matInput [type]="showPassword ? 'text' : 'password'" formControlName="password"
            placeholder="Enter your password" />
          <button mat-icon-button matSuffix type="button" (click)="togglePassword()"
            aria-label="Toggle password visibility">
            <mat-icon>{{ showPassword ? 'visibility' : 'visibility_off' }}</mat-icon>
          </button>
          @if (f['password'].touched && f['password'].errors?.['required']) {
          <mat-error>Password is required</mat-error>
          }
          @if (f['password'].touched && f['password'].errors?.['minlength']) {
          <mat-error>Password must be at least 8 characters</mat-error>
          }
        </mat-form-field>

        @if (errorMsg()) {
        <div class="login-error">
          <mat-icon color="warn">error</mat-icon>
          <span>{{ errorMsg() }}</span>
        </div>
        }


        <button mat-raised-button color="primary" type="submit" [disabled]="loading()">
          {{ loading() ? 'Signing in...' : 'Login' }}
        </button>


        <div class="text-center mt-3">
          <small class="text-muted">Don't have an account? </small>
          <a routerLink="/auth/register" class="text-decoration-none text-primary small">Sign up</a>
        </div>
      </form>
    </div>
  </div>
</div>