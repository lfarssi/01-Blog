<div class="users-sidebar">
  <mat-form-field appearance="outline" class="search-input">
    <input matInput 
           [formControl]="globalSearch" 
           placeholder="Search users"
           (input)="onSearch($event)">
    <mat-icon matSuffix>search</mat-icon>
  </mat-form-field>

  @if (isLoading()) {
    <div class="loading">
      <mat-spinner diameter="30"></mat-spinner>
    </div>
  }

  @if (users().length === 0 && !isLoading()) {
    <p class="no-results">No users found</p>
  }

  <mat-nav-list class="users-list">
 @for (user of users(); track user.id) {
  <a mat-list-item (click)="goToProfile(user.id)" class="user-item">
    <div matLine class="user-info">
      <strong>{{ user.username }}</strong>
      <span class="user-role">{{ user.role }}</span>
    </div>
  </a>
}

  </mat-nav-list>
</div>
